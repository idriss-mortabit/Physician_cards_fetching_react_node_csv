{"ast":null,"code":"import _classCallCheck from \"/home/idriss/Desktop/imhungry/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/idriss/Desktop/imhungry/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/idriss/Desktop/imhungry/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/idriss/Desktop/imhungry/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/idriss/Desktop/imhungry/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/idriss/Desktop/imhungry/client/src/components/Map.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nvar Map =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Map, _Component);\n\n  function Map(props) {\n    var _this;\n\n    _classCallCheck(this, Map);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Map).call(this, props));\n    _this.platform = null;\n    _this.map = null;\n    _this.state = {\n      app_id: props.app_id,\n      app_code: props.app_code,\n      coords: {\n        lat: 0,\n        lng: 0\n      },\n      isChecked: false,\n      address: {\n        street: props.street,\n        city: props.city,\n        state: props.state,\n        postalCode: props.postalCode,\n        country: props.country\n      },\n      loading: true,\n      zoom: props.zoom,\n      map: null,\n      style: props.style\n    };\n    return _this;\n  }\n\n  _createClass(Map, [{\n    key: \"getPlatform\",\n    value: function getPlatform() {\n      return new window.H.service.Platform(this.state);\n    }\n  }, {\n    key: \"getMap\",\n    value: function getMap(container, layers, settings) {\n      return new window.H.Map(container, layers, settings);\n    }\n  }, {\n    key: \"getEvents\",\n    value: function getEvents(map) {\n      return new window.H.mapevents.MapEvents(map);\n    }\n  }, {\n    key: \"getBehavior\",\n    value: function getBehavior(events) {\n      return new window.H.mapevents.Behavior(events);\n    }\n  }, {\n    key: \"getUI\",\n    value: function getUI(map, layers) {\n      return new window.H.ui.UI.createDefault(map, layers);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var params = {\n        'app_id': this.state.app_id,\n        'app_code': this.state.app_code,\n        'searchtext': this.state.address.street + this.state.address.city + this.state.address.state + this.state.address.postalCode + this.state.address.country\n      };\n      axios.get('https://geocoder.api.here.com/6.2/geocode.json', {\n        'params': params\n      }).then(function (response) {\n        var view = response.data.Response.View;\n\n        if (view.length > 0 && view[0].Result.length > 0) {\n          var location = view[0].Result[0].Location;\n          console.log(_this2.state.coords + \" \" + location.DisplayPosition.Latitude + \"hahaha \" + location.DisplayPosition.Longitude);\n\n          _this2.setState({\n            isChecked: true,\n            coords: {\n              lat: location.DisplayPosition.Latitude,\n              lng: location.DisplayPosition.Longitude\n            },\n            loading: false\n          });\n\n          console.log(\"ha ana f if\" + _this2.state.coords.lat + 12);\n          var icon = new window.H.map.Icon('https://img.icons8.com/color/48/000000/doctor-male.png'),\n              marker = new window.H.map.Marker(_this2.state.coords, {\n            icon: icon\n          });\n\n          _this2.map.setCenter(_this2.state.coords);\n\n          _this2.map.addObject(marker);\n        } else {\n          _this2.setState({\n            isChecked: true,\n            coords: null,\n            loading: false\n          });\n        }\n      }).catch(function (error) {\n        console.log('caught failed query ' + error);\n        this.setState({\n          isChecked: true,\n          coords: null,\n          loading: false\n        });\n      });\n      this.platform = this.getPlatform();\n      var layers = this.platform.createDefaultLayers();\n      var element = document.getElementById('here-map');\n      this.map = this.getMap(element, layers.normal.map, {\n        center: this.state.coords,\n        zoom: this.state.zoom\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"here-map\",\n        style: {\n          width: '100%',\n          height: '400px',\n          background: 'grey'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Map;\n}(Component);\n\nexport default Map;","map":{"version":3,"sources":["/home/idriss/Desktop/imhungry/client/src/components/Map.js"],"names":["React","Component","axios","CircularProgress","Map","props","platform","map","state","app_id","app_code","coords","lat","lng","isChecked","address","street","city","postalCode","country","loading","zoom","style","window","H","service","Platform","container","layers","settings","mapevents","MapEvents","events","Behavior","ui","UI","createDefault","params","get","then","response","view","data","Response","View","length","Result","location","Location","console","log","DisplayPosition","Latitude","Longitude","setState","icon","Icon","marker","Marker","setCenter","addObject","catch","error","getPlatform","createDefaultLayers","element","document","getElementById","getMap","normal","center","width","height","background"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n\nclass Map extends Component {\n    constructor(props) {\n        super(props);\n\n        this.platform = null;\n        this.map = null;\n\n        this.state = {\n            app_id: props.app_id,\n            app_code: props.app_code,\n            coords: {\n                lat: 0,\n                lng: 0\n            },\n            isChecked: false,\n            address: {\n                street: props.street,\n                city: props.city,\n                state: props.state,\n                postalCode: props.postalCode,\n                country: props.country\n              },\n            loading: true,\n            zoom: props.zoom,\n            map: null,\n            style: props.style,\n        }\n    }\n\n    getPlatform() {\n        return new window.H.service.Platform(this.state);\n    }\n\n    getMap(container, layers, settings) {\n        return new window.H.Map(container, layers, settings);\n    }\n\n    getEvents(map) {\n        return new window.H.mapevents.MapEvents(map);\n    }\n\n    getBehavior(events) {\n        return new window.H.mapevents.Behavior(events);\n    }\n\n    getUI(map, layers) {\n        return new window.H.ui.UI.createDefault(map, layers);\n    }\n\n    componentDidMount() {\n        let params = {\n            'app_id': this.state.app_id,\n            'app_code': this.state.app_code,\n            'searchtext': this.state.address.street\n            + this.state.address.city\n            + this.state.address.state\n            + this.state.address.postalCode\n            + this.state.address.country,\n    }\n    axios.get('https://geocoder.api.here.com/6.2/geocode.json',\n        {'params': params }\n        ).then( (response) => {\n            const view = response.data.Response.View\n            if (view.length > 0 && view[0].Result.length > 0) {\n                const location = view[0].Result[0].Location;\n                console.log(this.state.coords + \" \"+location.DisplayPosition.Latitude+\"hahaha \"+location.DisplayPosition.Longitude)\n                this.setState({\n                    isChecked: true,\n                    coords: {\n                        lat: location.DisplayPosition.Latitude,\n                        lng: location.DisplayPosition.Longitude\n                    },\n                    loading: false\n                });\n                console.log(\"ha ana f if\"+this.state.coords.lat + 12)\n                var icon = new window.H.map.Icon('https://img.icons8.com/color/48/000000/doctor-male.png'),\n                marker = new window.H.map.Marker(this.state.coords, {icon: icon});\n                this.map.setCenter(this.state.coords)\n                this.map.addObject(marker);\n            } else {\n                this.setState({\n                    isChecked: true,\n                    coords: null,\n                    loading: false\n                })\n            }\n    \n        })\n        .catch(function (error) {\n            console.log('caught failed query '+error);\n\n            this.setState({\n                isChecked: true,\n                coords: null,\n                loading: false\n            });\n        });\n          this.platform = this.getPlatform();\n          var layers = this.platform.createDefaultLayers();\n          var element = document.getElementById('here-map');\n          this.map = this.getMap(element, layers.normal.map, {\n              center: this.state.coords,\n              zoom: this.state.zoom\n          });\n    }\n\n    render() {\n        return (\n            <div id=\"here-map\" style={{width: '100%', height: '400px', background: 'grey' }} />\n        );\n    }\n}\n\nexport default Map;\n"]},"metadata":{},"sourceType":"module"}